"use strict";

require("core-js/modules/es.object.define-property.js");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.twigAttributeFunction = twigAttributeFunction;
exports.twigFileUrl = twigFileUrl;
exports.twigItok = twigItok;
exports.twigUuid = twigUuid;
exports.without = without;

require("core-js/modules/es.object.to-string.js");

require("core-js/modules/es.promise.js");

require("core-js/modules/es.regexp.exec.js");

require("core-js/modules/es.string.replace.js");

require("core-js/modules/es.array.for-each.js");

require("core-js/modules/web.dom-collections.for-each.js");

require("core-js/modules/es.date.to-string.js");

require("core-js/modules/es.regexp.to-string.js");

var _TwigAttribute = _interopRequireDefault(require("./TwigAttribute"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function twigAttributeFunction() {
  var attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';
  return Promise.resolve(new _TwigAttribute["default"](attributes));
}

function twigFileUrl(url) {
  return Promise.resolve(url.replace('ws-assets://', ''));
}

function without(element) {
  if (!element) {
    return [];
  }

  if (element instanceof _TwigAttribute["default"]) {
    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      args[_key - 1] = arguments[_key];
    }

    args.forEach(function (key) {
      element.removeAttribute(key);
    });
  }

  return element;
}

function twigItok() {
  var d = new Date();
  return Promise.resolve(d.getSeconds());
}

function twigUuid() {
  return Promise.resolve('xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
    // eslint-disable-next-line no-bitwise
    var r = Math.random() * 16 | 0; // eslint-disable-next-line no-bitwise

    var v = c === 'x' ? r : r & 0x3 | 0x8;
    return v.toString(16);
  }));
}